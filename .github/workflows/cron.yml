name: "QC Validator Daily Cron Job"

on:
  schedule:
    # Runs at 00:00 UTC every day
    - cron: "0 0 * * *"
  workflow_dispatch: # Allows you to run it manually from the Actions tab

jobs:
  trigger-cron:
    runs-on: ubuntu-latest
    steps:
      - name: Trigger Vercel API Endpoint
        run: |
          curl --request POST \
            --url 'https://qc-validator.vercel.app/api/cron' \
            --header 'Authorization: Bearer ${{ secrets.CRON_SECRET }}'